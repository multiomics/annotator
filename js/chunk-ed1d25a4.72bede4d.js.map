{"version":3,"sources":["webpack:///./src/components/step.vue?3d1c","webpack:///./src/views/Annotate.vue?84e4","webpack:///./src/components/step.vue?31e8","webpack:///src/components/step.vue","webpack:///./src/components/step.vue?0778","webpack:///./src/components/step.vue","webpack:///./src/views/Annotate.vue?925c","webpack:///./src/views/Annotate.vue?204e","webpack:///src/views/Annotate.vue","webpack:///./src/views/Annotate.vue?df0f","webpack:///./src/views/Annotate.vue?3825"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","step","_v","_s","des","staticRenderFns","component","annotationStep","stepDes","name","tableHeight","loading","sampleCol","sampleData","on","back","length","annotationSave","annotationConfirm","_e","key","required"],"mappings":"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","file":"js/chunk-ed1d25a4.72bede4d.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./step.vue?vue&type=style&index=0&id=aa11043e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./step.vue?vue&type=style&index=0&id=aa11043e&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Annotate.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Annotate.vue?vue&type=style&index=1&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"step-wrapper\"},[_c('Steps',{attrs:{\"current\":_vm.step}},[_c('Step',{attrs:{\"title\":\"Search\",\"content\":\"Find your project to annotate\"}}),_c('Step',{attrs:{\"title\":\"Sample\",\"content\":\"Give the number of samples\"}}),_c('Step',{attrs:{\"title\":\"Annotate\",\"content\":\"Add the raw file\"}})],1),_c('p',{staticClass:\"des\"},[_vm._v(\"\\n      \"+_vm._s(_vm.des)+\"\\n    \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"step-wrapper\">\n      <Steps :current=\"step\">\n          <Step title=\"Search\" content=\"Find your project to annotate\"></Step>\n          <!-- <Step title=\"Check\" content=\"Confirm your project information\"></Step> -->\n          <Step title=\"Sample\" content=\"Give the number of samples\"></Step>\n          <Step title=\"Annotate\" content=\"Add the raw file\"></Step>\n      </Steps>\n      <p class=\"des\">\n        {{des}}\n      </p>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'step',\n    props:['step','des'],\n    data(){\n        return {\n           \n        }\n    },\n    mounted: function(){\n    \n    },\n    created(){\n      \n    },\n    beforeDestroy(){\n          \n    },\n  }\n</script>\n\n\n\n<style scoped>\n   .des{\n      margin-top: 30px;\n   }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./step.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./step.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./step.vue?vue&type=template&id=aa11043e&scoped=true&\"\nimport script from \"./step.vue?vue&type=script&lang=js&\"\nexport * from \"./step.vue?vue&type=script&lang=js&\"\nimport style0 from \"./step.vue?vue&type=style&index=0&id=aa11043e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aa11043e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Annotate.vue?vue&type=style&index=0&id=7c3998ab&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Annotate.vue?vue&type=style&index=0&id=7c3998ab&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"annotate-container\"},[_c('div',{staticClass:\"browse-data-container\"},[_c('Row',[_c('div',{staticClass:\"title\"},[_vm._v(\"\\n                SDRF Annotation Tool\\n            \")]),_c('div',{staticClass:\"step-wrapper\"},[_c('Step',{attrs:{\"step\":_vm.annotationStep,\"des\":_vm.stepDes}})],1)]),_c('Row',[_c('selfTable',{attrs:{\"name\":_vm.name,\"height\":_vm.tableHeight,\"loading\":_vm.loading,\"columns\":_vm.sampleCol,\"data\":_vm.sampleData}}),_c('div',{staticClass:\"button-wrapper\"},[_c('div',{staticClass:\"search-button\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.back}},[_vm._v(\"Back\")])],1),(_vm.sampleCol.length>0 && _vm.sampleData.length>0)?_c('div',{staticClass:\"search-button right\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.annotationSave}},[_vm._v(\"Save\")]),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.annotationConfirm}},[_vm._v(\"Confirm\")])],1):_vm._e()])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"annotate-container\">\n      <div class=\"browse-data-container\">\n          <Row>\n              <div class=\"title\">\n                  SDRF Annotation Tool\n              </div>\n              <div class=\"step-wrapper\">\n                  <Step :step=\"annotationStep\" :des=\"stepDes\"></Step>\n              </div>\n          </Row>\n          <Row>\n            <selfTable :name=\"name\" :height='tableHeight' :loading=\"loading\" :columns=\"sampleCol\" :data=\"sampleData\"></selfTable>\n            <div class=\"button-wrapper\">\n                <div class=\"search-button\">\n                    <Button type=\"primary\" @click=\"back\">Back</Button>\n                </div>\n                <div v-if=\"sampleCol.length>0 && sampleData.length>0\" class=\"search-button right\">\n                    <Button type=\"primary\" @click=\"annotationSave\">Save</Button>\n                    <Button type=\"primary\" @click=\"annotationConfirm\">Confirm</Button>\n                </div>\n            </div>\n          </Row>\n         \n      </div>\n  </div>\n</template>\n\n<script>\n  import Step from \"@/components/step.vue\"\n  import selfTable from '@/components/table.vue'\n  //var paramsFromLandingPage='';\n  export default {\n    name: 'annotate',\n    data(){\n      return {\n            name:'Sample Data',\n            annotationStep:2,\n            stepDes:'Here is used to put the explanation about steps',\n            title:'',\n            keyword:'',\n            total:0,\n            sampleCol:[],\n            sampleData:[],\n            loading:false,\n            //pageSize:100\n      }\n    },\n    beforeRouteUpdate:function (to, from, next) {\n      //console.log('to.params',to.params);\n      //console.log('beforeRouteUpdate',to.query);\n      //this.$bus.$emit('submit-search', {params: to.params, query: to.query});\n      next();\n    },\n    components: {\n      Step,\n      selfTable\n    },\n    methods:{\n      init(){\n        let tempSampleData = JSON.parse(localStorage.getItem(\"sampleData\"));\n        \n        if(tempSampleData)\n          this.sampleData = tempSampleData;\n\n        this.experimentType = localStorage.getItem('selectedExperimentType')\n        this.sampleNumber  = +localStorage.getItem(\"samplesNum\")\n        this.fractionNumber = +localStorage.getItem(\"fractionsNum\")\n        this.trNumber = +localStorage.getItem(\"trNum\")\n      },\n      async getSampleAttributes(){\n          this.loading=true\n          this.sampleData=[]\n          this.sampleCol=[\n              {\n                  name:'Accession',\n                  key:'accession',\n                  required:true,\n              },\n          ]\n          try{\n              let res = await this.$Api.getSampleAttributes()\n              this.loading = false\n              let sampleDataItem={};//temp sampledata item for table rows\n              for(let i=0; i<res.body.length; i++){\n                  if(res.body[i].first == this.experimentType){\n                      let item = {\n                        experimentType:res.body[i].first,\n                        required: res.body[i].second == 'REQUIRED'? true:false,\n                        cvLabel:res.body[i].third.cvLabel.toLowerCase(),\n                        accession:res.body[i].third.accession,\n                        name:this.titleCase(res.body[i].third.name),\n                        orignal_name:res.body[i].third.name,\n                        key: this.titleCase(res.body[i].third.name).toLowerCase().replace(/\\s/ig,''),\n                      }\n                      //we are creating sample table columns\n                      if(item.required)\n                        this.sampleCol.push(item);\n                      this.newData.push(item);\n                      //we are creating sample table rows\n                      //sampleDataItem.accession={};//we will apply for the value for ac\n                      sampleDataItem[item.key]={\n                          value:'',\n                          dropdown:false,\n                          accession:'null',\n                          accessionKey:this.accessionKey,\n                          cvLabel:'null',\n                          col:item,\n                          icon:'',\n                          checked:true,\n                      }\n                  }\n              }\n              let projectAccession = localStorage.getItem(\"projectAccession\")\n              if(!projectAccession){\n                  for(let k=0; k<this.sampleNumber * this.fractionNumber; k++){\n                        let item = JSON.parse(JSON.stringify(sampleDataItem))\n                        item.accession={\n                            value:\"PXD_S\"+(k+1),\n                            dropdown:false,\n                            accession:'null',\n                            accessionKey:this.accessionKey++,\n                            cvLabel:'null',\n                            col:this.sampleCol[0],\n                            icon:'',\n                            checked:true,\n                        }\n                        //if(item.col.required)\n                          this.sampleData.push(item)\n                  }    \n              }\n          }\n          catch(e){\n              this.loading = false\n              this.$Message.error({content:'Can not query Data', duration:3});\n          }\n      },\n      back(){\n        let projectAccession = localStorage.getItem(\"projectAccession\")\n        if(projectAccession){\n            this.$Modal.confirm({\n                title: 'Uncompleted Annotaion',\n                content: '<p>Do you want to delete the uncompleted annotation?</p>',\n                onOk: () => {\n                    localStorage.clear();\n                    this.$router.push({name:'index'});\n                },\n                onCancel: () => {\n                   \n                }\n            });\n        }\n        else\n          this.$router.push({path:'/sample/'+this.$route.params.id});\n      },\n      annotationConfirm(){\n          this.$Modal.confirm({\n              title: 'Finish Annotation',\n              content: '<p>Do you want to submit this annotation?</p>',\n              onOk: () => {\n                  this.$bus.$emit('annotation-confirm');\n              },\n              onCancel: () => {\n                  \n              }\n          });\n      },\n      annotationSave(){\n          this.$bus.$emit('annotation-save');\n      },\n      localStorageCheck(){\n          var tempProjectAccession = localStorage.getItem(\"tempProjectAccession\");\n          if(tempProjectAccession &&  tempProjectAccession!= this.$route.params.id){\n            this.$Message.error({content:'Wrong Project Accession', duration:1});\n            this.$router.push({path:'/annotation'});\n          }\n\n          let sampleNumber = +localStorage.getItem(\"samplesNum\")\n          let fractionNumber = +localStorage.getItem(\"fractionsNum\")\n          this.total = sampleNumber * fractionNumber;\n      },\n      confirm(){\n          let results = [];\n          let tempAccession='';\n          let sampleDataCheckPass=true;\n          let msRunCheckPass= true;\n          console.log('this.sampleData',this.sampleData);\n          console.log('this.msRunArray',this.msRunArray)\n          //check for sample data completed\n          for(let i=0; i<this.sampleData.length; i++){\n              for(let j in this.sampleData[i]){\n                    if(j=='accession'){\n                        tempAccession = this.sampleData[i][j];\n                        continue;\n                    }\n                    else if(j==\"accessionKey\"){\n                      continue;\n                    }\n                    else{\n                        if(!this.sampleData[i][j].value && this.sampleData[i][j].col.required){\n                            sampleDataCheckPass=false;\n                            this.sampleData[i][j].checked=false;\n                        }\n                        else{\n                             this.sampleData[i][j].checked=true;\n                        }\n                    }\n              }\n          }\n          console.log('sampleDataCheckPass',sampleDataCheckPass);\n          console.log('msRunCheckPass',msRunCheckPass);\n          if(sampleDataCheckPass){\n          //if(true){\n              console.log('pass');\n              let submitData = [];\n              for(let i=0; i<this.sampleData.length; i++){\n                  let item = {};\n                  item.projectAccession = this.$route.params.id;\n                  item.sampleAccession = this.sampleData[i].accession.value;\n                  item.sampleProperties = [];\n                  for(let j in this.sampleData[i]){\n                      let sampleItem = {};\n                      if(j == 'accession' || j == 'accessionKey' || j == 'disable')\n                        continue;\n                      else{\n                          sampleItem.key={};\n                          sampleItem.key.accession=this.sampleData[i][j].col.accession; \n                          sampleItem.key.cvLabel=this.sampleData[i][j].col.cvLabel;\n                          sampleItem.key.name=this.sampleData[i][j].col.name;\n                          sampleItem.key.value=this.sampleData[i][j].col.orignal_name;\n                          sampleItem.value={};\n                          sampleItem.value.accession=this.sampleData[i][j].accession;\n                          sampleItem.value.cvLabel=this.sampleData[i][j].cvLabel;\n                          sampleItem.value.name=this.sampleData[i][j].col.name;\n                          sampleItem.value.value=this.sampleData[i][j].value;\n                          item.sampleProperties.push(sampleItem);\n                      }  \n                  }\n                  item.msrunProperties = [];//TODO \n                  let sampleLable={\n                      accession: this.msRunArray[i].label.accession,\n                      cvLabel: this.msRunArray[i].label.cvLabel,\n                      name: this.msRunArray[i].label.value,\n                      value: ''\n                  }\n                  item.sampleLabel = sampleLable;\n                  let labelReagent = {\n                      accession: this.msRunArray[i].labelReagent.accession,\n                      cvLabel: this.msRunArray[i].labelReagent.cvLabel,\n                      name: this.msRunArray[i].labelReagent.value,\n                      value: ''\n                  }\n                  item.labelReagent = labelReagent;\n\n                  if(!this.sampleData[i].disable)\n                    submitData.push(item);\n              }\n              let sendData = {};\n              sendData.SampleMSRunTable = {};\n              sendData.SampleMSRunTable.sampleMSRunRows = submitData;\n              console.log('sendData',sendData)\n              this.$http\n                  .put(this.updateSampleApi,sendData,{\n                    headers: {\n                      'Authorization':'Bearer '+ localStorage.getItem('token')\n                    }\n                  })\n                  .then(function(res){\n                    console.log('success',res);\n                    this.$Message.success({content:'Annotation Success', duration:1});\n                    localStorage.clear();\n                    this.$router.push({path:'/annotation'});\n                  },function(err){\n                    console.log('err',err);\n                    if(err.body.error == 'TOKEN_EXPIRED'){\n                        this.logout();\n                    }\n                    this.$Message.error({content:'Annotation Error', duration:1});\n                  });\n          }\n          else{\n            this.$Message.error({content:'Fill required content', duration:1});\n          }\n      },\n      update(){\n\n      },\n      save(){\n          let sampleDataStr = JSON.stringify(this.sampleData);\n          if(this.sampleData.length>0)\n            this.localStorageItemAdd('sampleData', sampleDataStr);\n\n          localStorage.setItem('projectAccession',this.$route.params.id);\n          localStorage.setItem('selectedExperimentType',this.experimentType);\n          localStorage.setItem('samplesNum',this.sampleNumber);\n          localStorage.setItem('fractionsNum',this.fractionNumber);\n          localStorage.setItem('trNum',this.trNumber);\n\n          this.$Message.success({content:'Save Successfully', duration:1});\n          //let sampleDataB64 = Base64.encode(sampleDataStr)  TODO for backend.\n      },\n    },\n    watch: {\n\n    },\n    computed:{\n      tableHeight:function(){\n        let minHeight = 300\n        return this.screenHeight - 90*2 - 138 - 20 - 55 - 16*2 > minHeight ? this.screenHeight - 90*2 - 138 - 20 - 55 - 16*2 : minHeight\n      }\n    },\n    mounted: function(){\n      var that = this\n      window.onresize = function () {\n        that.screenHeight = document.documentElement.clientHeight\n      }\n      this.localStorageCheck();\n      //this.queryConfig();\n      //this.updateCondition();//move into queryConfig function\n      //this.queryArchiveProjectList();//move into queryConfig function\n      //this.setFilter();//move into queryConfig function\n      //this.searchInputListener();\n    },\n    created(){\n      \n    },\n    beforeDestroy(){\n          \n    },\n    // beforeRouteEnter(to,from,next){\n    //   //console.log('from',from);\n    //   if(from.name == 'landingpage' && from.params.keyword)\n    //     paramsFromLandingPage = from.params.keyword;\n    //   next(vm=>{\n    //     let username = localStorage.getItem('username') || '';\n    //     if(!username){\n    //       vm.$Message.error({content:'Please Login', duration:2})\n    //       vm.$router.push({name:'annotation'})\n    //     }\n    //   });\n    // }\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>  \n  .annotate-container{\n    width: 100%;\n  }\n  .title{\n    font-size: 35px;\n    color: #454548;\n    margin-bottom: 50px;\n  }\n  .step-wrapper{\n    margin-bottom: 50px;\n  }\n  .button-wrapper{\n    margin-top: 20px;\n    display: flex;\n    justify-content: space-between;\n  }\n  .search-button.right{\n    display: flex;\n    width: 180px;\n    justify-content: space-between;\n  }\n  .search-button button{\n    width: 85px;\n  }\n  .browse-data-container{\n    width: 80%;\n    margin:0 auto;\n    padding: 90px 0;\n  }\n  .input-number{\n    width: 60px;\n  }\n  .modal-column-name{\n    font-size: 14px;\n    color: #5bc0be;\n    font-weight: bold;\n    margin-bottom: 15px;\n  }\n  .new-column-checkbox{\n        display: flex;\n        flex-direction: column;\n  }\n  .checkbox-item-wrapper{\n    display: flex;\n  }\n  .sample-class-table{\n    margin-bottom: 20px;\n  }\n  \n</style>\n<style > \n /* .annotation-page a{\n    text-decoration:none !important;\n    border-bottom-style:none !important;\n  }*/\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Annotate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Annotate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Annotate.vue?vue&type=template&id=7c3998ab&scoped=true&\"\nimport script from \"./Annotate.vue?vue&type=script&lang=js&\"\nexport * from \"./Annotate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Annotate.vue?vue&type=style&index=0&id=7c3998ab&scoped=true&lang=css&\"\nimport style1 from \"./Annotate.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c3998ab\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}